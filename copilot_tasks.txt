EUCLID PROJECT TODO - Comprehensive Improvement Plan
=====================================================

This file contains actionable improvements to make Euclid production-ready and useful for practitioners.
Items are organized by priority and category, aligned with the project's philosophy of accessibility.

═══════════════════════════════════════════════════════════════════════════════
✓ COMPLETED - PRE-CRITICAL PRIORITY
═══════════════════════════════════════════════════════════════════════════════

✓ [COMPLETED] Decided to use Java for implementation
✓ [COMPLETED] Completely rewrote from OCaml to Java with Maven build system

═══════════════════════════════════════════════════════════════════════════════
✓ COMPLETED - CRITICAL PRIORITY - Core Implementation (Now ~90% Complete)
═══════════════════════════════════════════════════════════════════════════════

## 1. ✓ PARSER & AST ARCHITECTURE
───────────────────────────────
✓ [COMPLETED] Design and implement proper Abstract Syntax Tree (AST) module
  - Created comprehensive AST with visitor pattern
  - Implemented AST types: LiteralExpr, IdentifierExpr, BinaryExpr, UnaryExpr, CallExpr, GroupingExpr
  - Added TextExpr and DocumentNode for markdown integration
  - Location: src/main/java/com/euclid/ast/

✓ [COMPLETED] Implement recursive descent parser
  - Full recursive descent parser with operator precedence
  - Supports function calls with arguments
  - Handles nested expressions
  - Proper error recovery and reporting with ParserException
  - Location: src/main/java/com/euclid/parser/Parser.java

✓ [COMPLETED] Implement comprehensive Token system
  - Created TokenType enum with all constants, operators, and functions
  - Token class with position tracking (line, column)
  - Supports all Greek letters, mathematical constants, and operations
  - Location: src/main/java/com/euclid/token/

## 2. ✓ LEXER COMPLETION
──────────────────────
✓ [COMPLETED] Complete lexer implementation
  - Recognizes ALL Greek letter constants (ALPHA through OMEGA)
  - Function name recognition (pow, sin, cos, log, integral, etc.)
  - Tokenizes delimiters: (), [], {}, comma
  - Handles number literals (integers, floats, scientific notation)
  - Recognizes identifiers (variable names)
  - Supports backslash-backslash fraction operator: a \\ b
  - Location: src/main/java/com/euclid/lexer/Lexer.java

[PARTIAL] Implement proper string/text mode vs math mode detection
  - Basic text detection implemented via TEXT token
  - Full markdown preservation needs enhancement (see remaining tasks)

## 3. ✓ TRANSPILER COMPLETION
───────────────────────────
✓ [COMPLETED] Complete transpiler with comprehensive LaTeX support
  - Transpiles ALL constants to LaTeX symbols
  - Implements all basic operations: pow, abs, ceil, floor, mod, gcd, lcm
  - Implements all binary symbols: lt, gt, leq, geq, approx, neq, equiv, pm, times, div, etc.
  - Implements trig functions: sin, cos, tan, csc, sec, cot, sinh, cosh, tanh
  - Implements log/exp: log(x, base), ln(x), exp(x)
  - Implements roots and fractions: sqrt(n, x), a \\ b, partial derivatives
  - Implements calculus: limit, diff, partial, integral
  - Implements summation/product notation: sum, prod
  - Implements matrices and vectors: vector([...]), matrix([[...]])
  - Implements set notation: emptyset, subset, union, intersection, element_of
  - Implements logic symbols: AND, OR, NOT, implies, iff, forall, exists
  - Location: src/main/java/com/euclid/transpiler/LatexTranspiler.java

[PARTIAL] Add proper LaTeX formatting
  - Transpilation to LaTeX implemented
  - Math mode delimiters ($...$, $$...$$) need context-aware wrapping (see remaining tasks)

## 4. ✓ ERROR HANDLING & VALIDATION
─────────────────────────────────
✓ [COMPLETED] Implement comprehensive error handling
  - Created exception hierarchy: EuclidException, LexerException, ParserException
  - Position tracking for errors (line/column numbers)
  - Clear error messages for lexer and parser errors
  - Location: src/main/java/com/euclid/exception/

✓ [COMPLETED] Add input validation enhancements
  - Validate function argument counts match specification
  - Check for balanced delimiters
  - Add "did you mean?" suggestions for common mistakes using Levenshtein distance
  - Created ValidationHelper utility class
  - Location: src/main/java/com/euclid/util/ValidationHelper.java

═══════════════════════════════════════════════════════════════════════════════
✓ COMPLETED - HIGH PRIORITY - Build System & Testing
═══════════════════════════════════════════════════════════════════════════════

## 5. ✓ BUILD SYSTEM MODERNIZATION
───────────────────────
✓ [COMPLETED] Modernize build system
  - Migrated to Maven (modern Java build system)
  - Created comprehensive pom.xml with all dependencies
  - Configured executable JAR generation (transpiler and REPL)
  - Added Maven Shade plugin for fat JARs
  - Configured Java 21 as target
  - Location: pom.xml

✓ [COMPLETED] Updated .gitignore
  - Added Java/Maven specific ignore patterns
  - Preserved old OCaml artifacts documentation
  - Location: .gitignore

[OBSOLETE] OCaml-specific Makefile issues
  - No longer applicable since migration to Java/Maven
  - Old OCaml code backed up to old_ocaml_src/ directory

## 6. ✓ TEST SUITE IMPLEMENTATION
───────────────────────────────
✓ [COMPLETED] Create JUnit 5 test suite
  - Created EuclidIntegrationTest with 10 comprehensive tests
  - Tests lexer, parser, and transpiler pipeline
  - All tests passing and document current behavior
  - Location: src/test/java/com/euclid/EuclidIntegrationTest.java

[MEDIUM] Expand test coverage to match specification
  - Add tests for all constants (all Greek letters)
  - Test all basic operations with various inputs
  - Test all symbol operations (comparison, logical, etc.)
  - Test all trigonometric and hyperbolic functions
  - Test logarithmic and exponential functions
  - Test roots, fractions, and partial derivatives
  - Test calculus operations: limits, derivatives, integrals
  - Test summation and product notation
  - Test matrix and vector creation
  - Test set notation operations
  - Test logic symbols

✓ [COMPLETED] Add integration tests
  - Created EuclidIntegrationTest.java with 10 comprehensive test cases
  - Tests complete expression transpilation through full pipeline (Lexer → Parser → Transpiler)
  - Tests numbers, operators, functions, constants, Greek letters
  - All tests passing with JUnit 5
  - Location: src/test/java/com/euclid/EuclidIntegrationTest.java
  - Commit: 50657f4

[MEDIUM] Add property-based testing
  - Use QCheck for fuzzing with random inputs
  - Test that transpiled LaTeX is valid
  - Test round-trip properties where applicable

[MEDIUM] Add regression tests
  - Save example inputs/outputs to prevent breaking changes
  - Test edge cases and previously found bugs

═══════════════════════════════════════════════════════════════════════════════
HIGH PRIORITY - Documentation & Examples
═══════════════════════════════════════════════════════════════════════════════

## 7. DOCUMENTATION FIXES
────────────────────────
✓ [COMPLETED] Fix errors in doc/syntax.md
  - Fixed missing backslashes in \sum and \prod LaTeX commands
  - Fixed double backslashes in matrix/vector line breaks
  - All MathJax examples now render correctly

✓ [COMPLETED] Expand README.md
  - Added "Prerequisites" section (Java 21+, Maven 3.8+, Git)
  - Added proper installation instructions with quick install and build from source
  - Included comprehensive troubleshooting section with common issues and solutions
  - Added "Quick Start" tutorial showing Euclid vs raw LaTeX comparison
  - Added comparison table highlighting syntax differences
  - Added usage examples for both file transpilation and REPL
  - Commit: 06541f1

✓ [COMPLETED] Create comprehensive examples
  - Created 01_arithmetic.ed: Basic arithmetic, algebra, and constants
  - Created 02_calculus.ed: Trig functions, logarithms, calculus operations
  - Created 03_linear_algebra.ed: Vectors and matrices
  - Created 04_set_theory_logic.ed: Set notation and logical operators
  - Created 05_real_world.ed: Real-world applications in physics, statistics, geometry, finance
  - Updated example/README.md with usage instructions
  - Location: example/ directory

## 8. API DOCUMENTATION
──────────────────────
[MEDIUM] Add module documentation
  - Document Token module and all token types
  - Document Lexer module with usage examples
  - Document Parser module (to be created) with examples
  - Document Transpiler module with examples
  - Use ocamldoc format for generating HTML docs

[MEDIUM] Create developer guide
  - Explain architecture (lexer → parser → AST → transpiler)
  - Document how to add new functions/operators
  - Provide contributing guidelines
  - Include coding standards and style guide

═══════════════════════════════════════════════════════════════════════════════
MEDIUM PRIORITY - Developer Experience
═══════════════════════════════════════════════════════════════════════════════

## 9. PROJECT INFRASTRUCTURE
────────────────────────────
✓ [COMPLETED] Add missing project files
  - .gitignore already exists with comprehensive Java/Maven/IDE exclusions
  - Added LICENSE file (MIT License)
  - Created CONTRIBUTING.md with:
    * Bug reporting guidelines
    * Feature suggestion process
    * Pull request workflow
    * Development setup instructions
    * Coding standards (Java style guide)
    * Documentation requirements
    * Testing guidelines
    * Guide for adding new features (functions/operators)
  - Created CHANGELOG.md tracking version history from 1.0 (OCaml) to 2.0 (Java)
  - Commit: 193b189

✓ [COMPLETED] Set up CI/CD pipeline
  - Added GitHub Actions workflow (.github/workflows/ci.yml)
  - Automated testing on Java 21
  - Multi-platform testing (Ubuntu, macOS, Windows)
  - Added JaCoCo code coverage plugin to pom.xml
  - Coverage reports uploaded to Codecov
  - Build artifacts uploaded for Ubuntu runs
  - Tests run on every push to main/develop and on pull requests
  - Commit: 5bccdef

[MEDIUM] Add code quality tools
  - Configure ocamlformat for consistent code style
  - Add .ocamlformat configuration file
  - Set up pre-commit hooks to run formatter and tests
  - Add linting with tools like OCamlformat or ocp-indent

## 10. REPL IMPROVEMENTS
────────────────────────
[MEDIUM] Fix REPL (src/repl.ml)
  - Fix reference to undefined 'transpile' function
  - Add proper error handling (don't crash on invalid input)
  - Show both Euclid input and transpiled LaTeX output
  - Add REPL commands: :help, :quit, :clear, :load <file>
  - Support multi-line input for complex expressions
  - Add syntax highlighting if terminal supports it
  - Show LaTeX rendering preview if possible

[MEDIUM] Add REPL history
  - Use up/down arrows to navigate previous inputs
  - Save history to ~/.euclid_history
  - Add :history command to show past inputs

═══════════════════════════════════════════════════════════════════════════════
MEDIUM PRIORITY - Extended Features
═══════════════════════════════════════════════════════════════════════════════

## 11. SYNTAX ENHANCEMENTS
─────────────────────────
[MEDIUM] Add support for additional mathematical constructs
  - Piecewise functions
  - Systems of equations
  - Aligned equation environments
  - Big operators with complex bounds
  - Accents and decorations (hat, tilde, bar, dot, etc.)
  - Text within math mode for labels

[MEDIUM] Support inline comments in .ed files
  - Allow # or // style comments that don't appear in output
  - Preserve markdown comments <!--...-->

[LOW] Add configurable output modes
  - Flag for inline ($...$) vs display ($$...$$) math
  - Option for AMS math packages
  - Support for different LaTeX math modes

## 12. USABILITY FEATURES
────────────────────────
[MEDIUM] Add watch mode for transpiler
  - Auto-recompile .ed files when they change
  - Useful for live preview during editing
  - Flag: euclid_transpiler --watch input.ed -o output.md

[MEDIUM] Better error messages
  - Show snippet of problematic input with caret pointing to error
  - Suggest corrections for common mistakes
  - Link to relevant documentation section

[LOW] Add verbose/debug mode
  - Show tokenization output
  - Display AST if flag provided
  - Useful for debugging and learning

═══════════════════════════════════════════════════════════════════════════════
LOW PRIORITY - Nice-to-Have Features
═══════════════════════════════════════════════════════════════════════════════

## 13. TOOLING INTEGRATIONS
──────────────────────────
[LOW] Create editor plugins
  - VSCode extension for .ed syntax highlighting
  - VSCode extension for live preview
  - Vim syntax file
  - Emacs major mode

[LOW] Web interface
  - Create simple web app for trying Euclid online
  - Uses js_of_ocaml to compile to JavaScript
  - Side-by-side editor with live preview
  - Examples gallery

[LOW] Language server protocol (LSP) implementation
  - Real-time error checking in editors
  - Auto-completion for functions
  - Hover tooltips showing LaTeX output
  - Go-to-definition for custom macros

## 14. PERFORMANCE & OPTIMIZATION
─────────────────────────────────
[LOW] Performance optimization
  - Benchmark transpilation speed
  - Optimize for large documents
  - Implement streaming parser for huge files
  - Parallelize processing where applicable

[LOW] Add caching
  - Cache transpilation results
  - Only reprocess changed sections
  - Incremental compilation support

## 15. ADVANCED FEATURES
───────────────────────
[LOW] Add macro/variable system
  - Define custom shortcuts: let myvar = integral(f(x), x, 0, 1)
  - Reuse complex expressions
  - Import definitions from external files

[LOW] Support for chemical equations
  - Extend syntax for chemistry notation
  - Integrate with mhchem LaTeX package

[LOW] Support for commutative diagrams
  - Syntax for category theory diagrams
  - Integrate with tikz-cd package

═══════════════════════════════════════════════════════════════════════════════
DOCUMENTATION IMPROVEMENTS - Practitioner Focus
═══════════════════════════════════════════════════════════════════════════════

## 16. LEARNING RESOURCES
────────────────────────
[MEDIUM] Create tutorial series
  - "Getting Started with Euclid" - basic expressions
  - "Writing Calculus in Euclid" - derivatives, integrals
  - "Linear Algebra with Euclid" - matrices, vectors
  - "Typesetting Proofs with Euclid" - logic symbols
  - "Advanced Euclid Techniques" - complex expressions

[MEDIUM] Create comparison guides
  - Euclid vs raw LaTeX - show side-by-side differences
  - Migration guide from LaTeX to Euclid
  - Common LaTeX patterns and their Euclid equivalents

[LOW] Create video tutorials
  - Introduction to Euclid
  - Writing your first mathematical document
  - Tips and tricks

## 17. COMMUNITY & ECOSYSTEM
───────────────────────────
[LOW] Create community resources
  - Set up discussion forum or Discord
  - Create example gallery/cookbook
  - Add "Share your Euclid code" section
  - Showcase projects using Euclid

[LOW] Add telemetry (opt-in)
  - Collect usage statistics to improve tool
  - Understand most-used features
  - Privacy-respecting analytics

═══════════════════════════════════════════════════════════════════════════════
TECHNICAL DEBT & CODE QUALITY
═══════════════════════════════════════════════════════════════════════════════

## 18. CODE REFACTORING
──────────────────────
[MEDIUM] Improve code organization
  - Split large modules if they grow too big
  - Create utility modules for common functions
  - Use functors for generic parsing patterns
  - Document all public functions

[MEDIUM] Type safety improvements
  - Use phantom types to distinguish parsed vs unparsed content
  - Make illegal states unrepresentable
  - Leverage OCaml's type system for correctness

[LOW] Benchmark and optimize
  - Profile to find bottlenecks
  - Optimize hot paths
  - Consider using better data structures if needed

## 19. COMPATIBILITY & PORTABILITY
──────────────────────────────────
[MEDIUM] Cross-platform testing
  - Ensure works on Linux, macOS, Windows
  - Test with different terminal emulators
  - Handle line ending differences (CRLF vs LF)

[LOW] Alternative build systems
  - Support for both Make and Dune
  - Docker container for reproducible builds
  - Nix package for NixOS users

═══════════════════════════════════════════════════════════════════════════════
VALIDATION & CORRECTNESS
═══════════════════════════════════════════════════════════════════════════════

## 20. CORRECTNESS VERIFICATION
──────────────────────────────
[MEDIUM] Validate LaTeX output
  - Ensure generated LaTeX is syntactically valid
  - Test rendering with actual LaTeX processor
  - Verify output displays correctly in common markdown viewers
  - Test with GitHub's markdown renderer specifically

[MEDIUM] Add specification tests
  - For each item in doc/syntax.md, ensure implementation matches
  - Create test matrix covering all documented features
  - Verify examples in documentation are accurate

[LOW] Formal verification
  - Consider using formal methods for critical parser logic
  - Property-based testing for correctness properties
  - Prove parser termination and correctness

═══════════════════════════════════════════════════════════════════════════════
LONG-TERM VISION
═══════════════════════════════════════════════════════════════════════════════

## 21. ECOSYSTEM GROWTH
──────────────────────
[LOW] Create plugin system
  - Allow users to add custom transpilation rules
  - Extension API for new mathematical notation
  - Plugin repository/marketplace

[LOW] Alternative output formats
  - Generate MathML in addition to LaTeX
  - Support for AsciiMath output
  - PDF generation directly from .ed files
  - HTML with MathJax rendering

[LOW] Integration with publishing tools
  - Jupyter notebook support
  - Pandoc filter for .ed files
  - Integration with Hugo/Jekyll static site generators
  - Obsidian plugin

## 22. ACADEMIC & RESEARCH USE
─────────────────────────────
[LOW] Citation support
  - BibTeX integration
  - Equation numbering and references
  - Theorem environments
  - Cross-referencing support

[LOW] Collaborative features
  - Diff-friendly format for version control
  - Commenting system for peer review
  - Multi-author support

═══════════════════════════════════════════════════════════════════════════════
✓ COMPLETED - IMMEDIATE ACTION ITEMS
═══════════════════════════════════════════════════════════════════════════════

✓ COMPLETED: All 10 critical MVP items finished!

1. ✓ Design AST module → Implemented comprehensive AST with visitor pattern (Java)
2. ✓ Implement basic parser → Full recursive descent parser with operator precedence (Java)
3. ✓ Complete lexer → Comprehensive lexer with all constants and functions (Java)
4. ✓ Implement transpilation → Complete LaTeX transpiler with all operations (Java)
5. [TODO] Fix test suite to run successfully → Need to implement JUnit tests
6. ✓ Add .gitignore file → Comprehensive Java/Maven .gitignore added
7. [TODO] Fix documentation errors in doc/syntax.md → Needs review
8. [TODO] Add 3-5 comprehensive examples → Existing example.ed needs enhancement
9. ✓ Fix build system → Migrated to Maven, builds successfully
10. ✓ Add basic error handling → Complete exception hierarchy implemented

CORE FUNCTIONALITY STATUS: ✓ COMPLETED (9/10 items, 90%)
The project now has a working Java implementation that practitioners can use!

═══════════════════════════════════════════════════════════════════════════════
NOTES & PHILOSOPHY
═══════════════════════════════════════════════════════════════════════════════

The Euclid project aims to reduce barriers to entry for mathematical writing in
markdown. All improvements should maintain this philosophy:

- Simplicity: Keep syntax intuitive and learnable
- Familiarity: Mirror popular programming language conventions
- Accessibility: Lower the barrier for beginners
- Correctness: Generate valid, standard-compliant LaTeX
- Usefulness: Prioritize features that help real practitioners
- Documentation: Excellent docs are as important as code
- Error messages: Guide users to solutions, don't just report failures

When implementing features, ask:
- Does this make math in markdown easier?
- Would a beginner understand this?
- Is this the simplest way to express this concept?
- Does this align with Python/JavaScript syntax conventions?

═══════════════════════════════════════════════════════════════════════════════
END OF TODO LIST
═══════════════════════════════════════════════════════════════════════════════
